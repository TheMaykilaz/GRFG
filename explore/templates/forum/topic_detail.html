{% extends "base.html" %}

{% block content %}
<div class="container">
    <h2>{{ topic.title }}</h2>
    <p>{{ topic.description }}</p>

    <hr>

    <h3>–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ</h3>
    {% for comment in comments %}
        <div class="comment" style="border: 1px solid #ccc; padding: 10px; margin-bottom: 10px;">
            <p><strong>{{ comment.user }}</strong> ‚Äî {{ comment.created_at }}</p>
            <p>{{ comment.content }}</p>

            <form method="post" action="{% url 'explore:vote-comment' comment.pk %}">
                {% csrf_token %}
                <button type="submit" name="vote" value="up">üëç</button>
                <button type="submit" name="vote" value="down">üëé</button>
                <span>Votes: {{ comment.vote_count }}</span>
            </form>
        </div>
    {% empty %}
        <p>–ö–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ —â–µ –Ω–µ–º–∞—î.</p>
    {% endfor %}

    <hr>

    <h3>–î–æ–¥–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä</h3>
    <form method="post" action="{% url 'explore:add-comment' topic.pk %}">
        {% csrf_token %}
        <textarea name="content" rows="4" cols="50" required></textarea><br>
        <button type="submit">–î–æ–¥–∞—Ç–∏</button>
    </form>

    <br>
    <a href="{% url 'explore:forum-topic-list' %}">‚Üê –ù–∞–∑–∞–¥ –¥–æ —Å–ø–∏—Å–∫—É —Ç–µ–º</a>
</div>
{% endblock %}
